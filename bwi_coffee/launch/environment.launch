<launch>

  <arg name="data_directory" default="$(find bwi_coffee)/config/simulation" />
  <arg name="map_file" default="$(find utexas_gdc)/maps/simulation/3ne.yaml" />

  <!-- launch gazebo simulation environment and map server -->
  <include file="$(find utexas_gdc)/launch/simulation_3ne.launch" />
  <include file="$(find utexas_gdc)/launch/simulation_3ne_map_server.launch" />

  <!-- launch the base robot + autonomous navigation -->
  <include file="$(find segbot_gazebo)/launch/segbot_mobile_base.launch">
    <arg name="launch_localization" value="true" />
    <arg name="use_fake_localization" value="true" />
    <arg name="launch_move_base" value="true" />
    <arg name="use_full_gazebo_model" value="false" />
    <arg name="x" value="0" />
    <arg name="y" value="10" />
  </include>
  
  <!-- launch logical navigator -->
  <node name="segbot_logical_navigator" pkg="segbot_logical_translator"
        type="segbot_logical_navigator">
    <param name="map_file" value="$(arg map_file)" />
    <param name="data_directory" value="$(arg data_directory)" />
  </node>

  <!-- launch the simulation door handler -->
  <include file="$(find segbot_simulation_apps)/launch/door_handler.launch">
    <arg name="data_directory" value="$(arg data_directory)" />
  </include>

  <!-- launch rviz for navigation visualization -->
  <include file="$(find segbot_navigation)/launch/rviz.launch" />

</launch>
